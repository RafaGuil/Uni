package fp.examenes.tipos.test;

import java.util.List;
import java.util.Map;
import java.util.Set;

import fp.examenes.tipos.CalendarioExamenes;
import fp.examenes.tipos.Examen;
import fp.examenes.tipos.FactoriaExamenes;

public class testExamenes {
	public static void main(String[] args) {
		List<Examen> lineas = FactoriaExamenes.leeExamenes("data/examenes.csv");
		//testFactoriaExamenes(lineas);
		testGetExamenesPorAula(lineas);
	}
	
	private static void testFactoriaExamenes(List<Examen> lineas) {
		System.out.println("Test Factoria Examenes");
		
		try {
			for (int i = 0; i < lineas.size(); i++) {
				System.out.println("Examen " + i + lineas.get(i));
			}
		} catch (Exception e) {
			e.printStackTrace();
		}
	}
	
	public static void testGetExamenesPorAula(List<Examen> lineas) {
		CalendarioExamenes cal = new CalendarioExamenes(lineas.stream());

		System.out.println("EJERCICIO 4.1===================================================================");
		Map<String, Set<Examen>> res = cal.getExamenesPorAula();

		for (Map.Entry<String, Set<Examen>> entry : res.entrySet()) {
			String aula = entry.getKey();
			Set<Examen> examenes = entry.getValue();

			System.out.println("Aula: " + aula);
			for (Examen e : examenes) {
				System.out.println("  â†’ " + e);  // Usa toString() de Examen
			}
		}
	}

}
